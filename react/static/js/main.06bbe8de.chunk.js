(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{24:function(e,t,a){e.exports=a(36)},29:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(20),r=a.n(i),s=a(5),o=a(6),l=a(8),h=a(7),u=a(9),f=a(21),m=a(10),g=a(13),d=a(14),p=(a(29),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"gif-container"},c.a.createElement("a",{href:"single-gif/"+this.props.gif.id},c.a.createElement("img",{src:this.props.gif.images.fixed_width_downsampled.url,className:"gifImage",alt:""})))}}]),t}(n.Component)),v=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).fetchGifs=function(){var e=a.state,t=e.offset,n=e.count,c=e.gifs;fetch("https://api.giphy.com/v1/gifs/trending?offset="+t+"&limit="+n+"&api_key=mP17pVxuBhxNTIg9QZqTgDK18hOvgGF5").then((function(e){return e.json()})).then((function(e){return a.setState({gifs:[].concat(Object(g.a)(c),Object(g.a)(e.data)),scrolled:!0})}))},a.formSubmit=function(){a.setState({newSearch:!0,searhActive:!0,offset:0}),a.searchFetch()},a.searchFetch=function(){var e=a.state,t=e.search,n=e.offset,c=e.count,i=e.gifs;e.searhActive;fetch("https://api.giphy.com/v1/gifs/search?q="+t+"&limit="+c+"&offset="+n+"&api_key=mP17pVxuBhxNTIg9QZqTgDK18hOvgGF5").then((function(e){return e.json()})).then((function(e){console.log(a.state),!0===a.state.newSearch?a.setState({gifs:e.data,scrolled:!0,newSearch:!1}):a.setState((function(t){return{gifs:[].concat(Object(g.a)(i),Object(g.a)(e.data)),scrolled:!0,offset:t.offset+15}}))}))},a._handleKeyDown=function(e){"Enter"===e.key&&a.formSubmit()},a.trackScrolling=function(){var e=document.getElementById("gifhold");e.scrollHeight-e.scrollTop===e.clientHeight&&!0===a.state.scrolled&&(a.setState({scrolled:!1}),!1===a.state.searhActive?(a.setState((function(e){return{offset:e.offset+15}})),a.fetchGifs()):(a.setState((function(e){return{offset:e.offset+15}})),a.searchFetch()))},a.state={offset:0,count:15,gifs:[],scrolled:!1,search:"",searhActive:!1,newSearch:!1},a.formSubmit=a.formSubmit.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.fetchGifs(),document.addEventListener("scroll",this.trackScrolling)}},{key:"handleChange",value:function(e){this.setState({search:e.target.value})}},{key:"render",value:function(){return c.a.createElement("div",{className:"container",id:"mainContainer"},c.a.createElement("div",{className:"searchContainer"},c.a.createElement("input",{type:"text",name:"search",onChange:this.handleChange.bind(this),placeholder:"Search Query",onKeyDown:this._handleKeyDown}),c.a.createElement("button",{className:"search",onClick:this.formSubmit},"Search")),c.a.createElement("div",{className:"gifhold",id:"gifhold"},this.state.gifs.length>0?this.state.gifs.map((function(e,t){return c.a.createElement(p,{gif:e})})):c.a.createElement("p",null,"No GIFs Found OR API CANT BE REACHED")))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.trackScrolling)}}]),t}(n.Component),b=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={imagaeUrl:"",name:"",author:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getSingleGif",value:function(){var e=this;fetch("https://api.giphy.com/v1/gifs/"+this.props.match.params.id+"?api_key=mP17pVxuBhxNTIg9QZqTgDK18hOvgGF5").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({imagaeUrl:t.data.images.original.url,name:t.data.title,author:t.data.username})}))}},{key:"componentDidMount",value:function(){this.getSingleGif()}},{key:"render",value:function(){return c.a.createElement("div",{className:"container"},c.a.createElement("div",null,c.a.createElement("h1",{className:"title"},this.state.name),c.a.createElement("img",{src:this.state.imagaeUrl,alt:""}),c.a.createElement("h4",{className:"title"},this.state.author?"by - "+this.state.author:"")))}}]),t}(n.Component),E=function(){return c.a.createElement(f.a,{basename:"/react"},c.a.createElement(m.c,null,c.a.createElement(m.a,{exact:!0,path:"/",component:v}),c.a.createElement(m.a,{exact:!0,path:"/single-gif/:id",component:b})))};a(35);var O=function(){return c.a.createElement("div",{className:"header"},c.a.createElement("a",{href:"/",className:"logo"},"TEST"))},j=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(O,null),c.a.createElement(E,null))}}]),t}(n.Component);r.a.render(c.a.createElement(j,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.06bbe8de.chunk.js.map